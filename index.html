<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>فحص للياقة — مستشفى ريسبكت</title>
  <link rel="stylesheet" href="styles.css"/>
  <style>
    /* تحسينات الواجهة */
    .testRow { cursor: grab; transition: background 0.2s; }
    .testRow.dragging { opacity: 0.5; background: rgba(124, 108, 255, 0.1); }
    .insurance-select {
      background: rgba(255,255,255,0.05); color: #fff; border: 1px solid rgba(255,255,255,0.1);
      border-radius: 12px; padding: 0 10px; height: 44px; font-family: inherit; cursor: pointer;
    }
    .insurance-select option { background: #0a1020; color: white; }
  </style>
</head>
<body>
  <div id="intro" class="intro" aria-hidden="false">
    <div class="introScene">
      <div class="introRing"></div>
      <div class="introGlow"></div>
      <div class="introCard">
        <div class="introIcon">
          <div class="barbell"><span class="plate"></span><span class="rod"></span><span class="plate"></span></div>
        </div>
        <div class="introTitle">فحص للياقة</div>
        <div class="introSub">مستشفى ريسبكت</div>
        <button id="skipIntro" class="btn btnPrimary">تخطي</button>
      </div>
    </div>
  </div>

  <main class="shell">
    <header class="topbar">
      <div class="brand">
        <div class="brandText">
          <div class="h1">فحص للياقة</div>
          <div class="h2">مستشفى ريسبكت</div>
        </div>
      </div>
      <div class="actions">
        <select id="insuranceType" class="insurance-select">
          <option value="">بدون تأمين</option>
          <option value="فضي">تأمين فضي</option>
          <option value="ذهبي">تأمين ذهبي</option>
          <option value="بلاتيني">تأمين بلاتيني</option>
        </select>
        <button id="doctorBtn" class="btn">إضافة الطبيب</button>
        <button id="copyBtn" class="btn btnPrimary">حفظ للمحفظة</button>
        <button id="copyMsgBtn" class="btn">نسخ الرسالة</button>
      </div>
    </header>

    <section class="layout">
      <div class="preview">
        <div class="previewFrame"><canvas id="report" width="1414" height="2000"></canvas></div>
      </div>
      <aside class="panel">
        <div class="panelTitle">البيانات الأساسية</div>
        <div class="field"><label>الاسم</label><input id="name" type="text" placeholder="أدخل الاسم..."/></div>
        <div class="field row2">
          <div><label>رقم الفحص</label><input id="testNo" type="text" placeholder="300"/></div>
          <div><label>الرقم الوطني</label><input id="nid" type="text" placeholder="5775"/></div>
        </div>
        <div class="divider"></div>
        <div class="panelTitle">الفحوصات (اسحب للترتيب)</div>
        <div id="testsList" class="testsList"></div>
      </aside>
    </section>
  </main>

  <div id="doctorModal" class="modal" style="display:none">
    <div class="modalBackdrop" id="doctorCancel"></div>
    <div class="modalCard">
       <div class="modalHead"><div class="modalTitle">إعدادات الطبيب</div></div>
       <div class="modalBody">
          <div class="field"><label>اسم الطبيب</label><input id="doctorNameM" type="text" value="د. سنمار بدر" /></div>
       </div>
       <div class="modalFoot">
          <button id="doctorSave" class="btn btnPrimary">حفظ وإغلاق</button>
       </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>

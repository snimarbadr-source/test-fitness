<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>ÙØ­Øµ Ù„Ù„ÙŠØ§Ù‚Ø© â€” Ù…Ø³ØªØ´ÙÙ‰ Ø±ÙŠØ³Ø¨ÙƒØª</title>
  <link rel="stylesheet" href="styles.css"/>
  <style>
    /* Ø¥Ø¶Ø§ÙØ§Øª CSS Ù„Ù„Ø¨Ø§ØªØ´ Ù†ÙˆØª ÙˆØ§Ù„ØªØ±ØªÙŠØ¨ */
    .patch-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.9); z-index: 10000; display: none; align-items: center; justify-content: center; backdrop-filter: blur(15px); }
    .patch-card { background: linear-gradient(145deg, #1e2235, #0f111a); border: 2px solid #7c6cff; border-radius: 24px; padding: 40px; max-width: 450px; text-align: center; color: white; box-shadow: 0 0 60px rgba(124,108,255,0.3); animation: patchPop 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
    @keyframes patchPop { from { opacity: 0; transform: scale(0.5); } to { opacity: 1; transform: scale(1); } }
    .patch-list { text-align: right; list-style: none; padding: 0; margin: 25px 0; }
    .patch-list li { margin-bottom: 15px; display: flex; align-items: center; gap: 10px; }
    .patch-list li::before { content: "âœ¦"; color: #7c6cff; }
    .testRow { cursor: grab; background: #1a1a1e; border: 1px solid #2d2d35; padding: 10px; border-radius: 10px; margin-bottom: 8px; transition: 0.2s; }
    .testRow:active { cursor: grabbing; transform: scale(0.98); }
    .insurance-select { background: #111; color: white; border: 1px solid #333; padding: 5px 10px; border-radius: 8px; cursor: pointer; font-family: inherit; }
  </style>
</head>
<body>
  <div id="intro" class="intro" aria-hidden="false">
    <div class="introScene">
      <div class="introRing"></div>
      <div class="introGlow"></div>
      <div class="introCard">
        <div class="introIcon" aria-hidden="true">
          <div class="barbell">
            <span class="plate"></span><span class="rod"></span><span class="plate"></span>
          </div>
        </div>
        <div class="introTitle">ÙØ­Øµ Ù„Ù„ÙŠØ§Ù‚Ø©</div>
        <div class="introSub">Ù…Ø³ØªØ´ÙÙ‰ Ø±ÙŠØ³Ø¨ÙƒØª</div>
        <button id="skipIntro" class="btn btnPrimary">ØªØ®Ø·ÙŠ</button>
      </div>
    </div>
  </div>

  <div id="patchModal" class="patch-overlay">
    <div class="patch-card">
      <div style="font-size: 50px;">ğŸš€</div>
      <h2 style="margin-top:10px">ØªØ­Ø¯ÙŠØ«Ø§Øª Ø³Ù†Ù…Ø§Ø± Ø§Ù„Ø®ÙˆØ±Ø§ÙÙŠØ©</h2>
      <ul class="patch-list">
        <li>ğŸ›¡ï¸ <b>Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ£Ù…ÙŠÙ†:</b> Ø§Ø®ØªØ± ÙØ¦Ø© Ø§Ù„ØªØ£Ù…ÙŠÙ† Ù„ØªØ¸Ù‡Ø± ÙÙŠ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù…Ù†Ø³ÙˆØ®Ø©.</li>
        <li>â†•ï¸ <b>ØªØ±ØªÙŠØ¨ Ø§Ù„ÙØ­ÙˆØµØ§Øª:</b> Ø§Ø³Ø­Ø¨ Ø§Ù„ÙØ­ÙˆØµØ§Øª Ù„ØªØ±ØªÙŠØ¨Ù‡Ø§ ÙÙŠ Ø§Ù„Ù„ÙˆØ­Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ©.</li>
        <li>âœ… <b>Ø«Ø¨Ø§Øª Ø§Ù„ØªÙ‚Ø±ÙŠØ±:</b> ÙŠØ¸Ù„ ØªØ±ØªÙŠØ¨ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø±Ø³Ù…ÙŠ Ø«Ø§Ø¨ØªØ§Ù‹ ÙÙŠ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©.</li>
      </ul>
      <button id="closePatch" class="btn btnPrimary" style="width:100%">Ø§Ù†Ø·Ù„Ù‚ Ø§Ù„Ø¢Ù† ğŸ”¥</button>
    </div>
  </div>

  <main class="shell">
    <header class="topbar">
      <div class="brand">
        <div class="brandText">
          <div class="h1">ÙØ­Øµ Ù„Ù„ÙŠØ§Ù‚Ø©</div>
          <div class="h2">Ù…Ø³ØªØ´ÙÙ‰ Ø±ÙŠØ³Ø¨ÙƒØª</div>
        </div>
      </div>
      <div class="actions">
        <select id="insuranceSelect" class="insurance-select">
          <option value="">ØªØ£Ù…ÙŠÙ† ØµØ­ÙŠ: Ù„Ø§ ÙŠÙˆØ¬Ø¯</option>
          <option value="ÙØ¶ÙŠ">ØªØ£Ù…ÙŠÙ†: ÙØ¶ÙŠ</option>
          <option value="Ø°Ù‡Ø¨ÙŠ">ØªØ£Ù…ÙŠÙ†: Ø°Ù‡Ø¨ÙŠ</option>
          <option value="Ø¨Ù„Ø§ØªÙŠÙ†ÙŠ">ØªØ£Ù…ÙŠÙ†: Ø¨Ù„Ø§ØªÙŠÙ†ÙŠ</option>
        </select>
        <button id="doctorBtn" class="btn">Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø·Ø¨ÙŠØ¨</button>
        <button id="copyBtn" class="btn btnPrimary">Ø­ÙØ¸ Ù„Ù„Ù…Ø­ÙØ¸Ø©</button>
        <button id="copyMsgBtn" class="btn">Ù†Ø³Ø® Ø§Ù„Ø±Ø³Ø§Ù„Ø©</button>
      </div>
    </header>

    <section class="layout">
      <div class="preview">
        <div class="previewFrame"><canvas id="report" width="1414" height="2000"></canvas></div>
      </div>
      <aside class="panel">
        <div class="panelTitle">Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</div>
        <div class="field"><label>Ø§Ù„Ø§Ø³Ù…</label><input id="name" type="text" placeholder="Ø³Ù†Ù…Ø§Ø±..."/></div>
        <div class="field row2">
          <div><label>Ø±Ù‚Ù… Ø§Ù„ÙØ­Øµ</label><input id="testNo" type="text" placeholder="300"/></div>
          <div><label>Ø§Ù„Ø±Ù‚Ù… Ø§Ù„ÙˆØ·Ù†ÙŠ</label><input id="nid" type="text" placeholder="5775"/></div>
        </div>
        <div class="divider"></div>
        <div class="panelTitle">Ø§Ù„ÙØ­ÙˆØµØ§Øª (Ø§Ø³Ø­Ø¨ Ù„Ù„ØªØ±ØªÙŠØ¨)</div>
        <div id="testsList" class="testsList"></div>
      </aside>
    </section>
  </main>

  <div id="doctorModal" class="modal" style="display:none">
    <div class="modalBackdrop" id="doctorBackdrop"></div>
    <div class="modalCard">
      <div class="modalHead">
        <div class="modalTitle">Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ¨ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬</div>
        <button id="doctorClose" class="iconBtn">âœ•</button>
      </div>
      <div class="modalBody">
        <div class="field"><label>Ø§Ø³Ù… Ø§Ù„Ø·Ø¨ÙŠØ¨</label><input id="doctorNameM" type="text" /></div>
        <div class="field">
          <label>Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„ØªÙˆÙ‚ÙŠØ¹</label>
          <select id="doctorSigModeM">
            <option value="none">Ø¨Ø¯ÙˆÙ†</option>
            <option value="typed">Ù†ØµÙŠ</option>
            <option value="upload">ØµÙˆØ±Ø©</option>
          </select>
        </div>
      </div>
      <div class="modalFoot"><button id="doctorSave" class="btn btnPrimary">Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª</button></div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
